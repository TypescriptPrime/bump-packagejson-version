name: 'Purge cache existing in jsDelivr Network'
author: 'PiQuark6046 and contributors'
description: 'Clone your npm package into jsDelivr Network to enhance transmission speed'

runs:
  using: 'composite'
  steps:
    - name: Install npm packages
      run: |
        npm i
      shell: bash
      working-directory: ${{ github.action_path }}
    - name: Dump version of package.json to version defined in triggered Release
      env:
        GITHUB_TOKEN: ${{ github.token }}
        CI_WORKSPACE_PATH: ${{ github.workspace }}
        CI_ACTION_PATH: ${{ github.action_path }}
        REPO: ${{ github.repository }}
        EVENT_PAYLOAD_PATH: ${{ github.event_path }}
      run: |
        npm run ci -- --GHToken "$GITHUB_TOKEN" --CI-Workspace-Path "$CI_WORKSPACE_PATH" --CI-Action-Path "$CI_ACTION_PATH" --
      shell: bash
      working-directory: ${{ github.action_path }}
